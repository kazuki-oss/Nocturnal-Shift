{% extends 'admin/layout.html.twig' %}

{% block title %}{{ isEdit ? '従業員編集' : '従業員作成' }}{% endblock %}

{% block admin_content %}
<div class="page-header">
    <h2 class="page-title">{{ isEdit ? '従業員編集' : '従業員作成' }}</h2>
</div>

{% for message in app.flashes('success') %}
    <div class="alert alert-success">{{ message }}</div>
{% endfor %}

<div class="card">
    {{ form_start(form, {'attr': {'class': 'employee-form'}}) }}
    
    <div class="form-section">
        <h3 class="form-section-title">基本情報</h3>
        
        <div class="form-row">
            <div class="form-group">
                {{ form_label(form.name) }}
                {{ form_widget(form.name, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.name) }}
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                {{ form_label(form.email) }}
                {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.email) }}
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                {{ form_label(form.plainPassword) }}
                {{ form_widget(form.plainPassword, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.plainPassword) }}
            </div>
        </div>
    </div>

    <div class="form-section">
        <h3 class="form-section-title">権限設定</h3>
        
        <div class="form-group">
            {{ form_label(form.userRoles) }}
            <div class="checkbox-group">
                {{ form_widget(form.userRoles) }}
            </div>
            {{ form_errors(form.userRoles) }}
        </div>
    </div>

    {{ form_rest(form) }}

    <div class="form-actions">
        <a href="{{ path('admin_employees_index') }}" class="btn btn-secondary">
            <i class="mdi mdi-close"></i> キャンセル
        </a>
        <button type="submit" class="btn btn-primary">
            <i class="mdi mdi-content-save"></i> 保存
        </button>
    </div>

    {{ form_end(form) }}
</div>
{% endblock %}
